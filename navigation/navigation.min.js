// https://goo.gl/o94YBH | (c)2017 ChanMyeong | MIT license.
!function(t){"use strict";var i,n=[];t.fn.navigation=function(e){n.push(this.selector),i=t(n.join());var s=t(this);if("hor"!==e&&"ver"!==e)return!1;"hor"===e?s.addClass("_hor"):"ver"===e&&s.addClass("_ver"),s.each(function(){var i=t(this);i.find("a+ul").length&&i.addClass("_sub")});var a=function(){setTimeout(function(){i.find("a").each(function(){var i=t(this);i.html(i.text()).parent("li").removeClass("active"),location.href.indexOf(i.attr("href"))>-1&&i.wrapInner("<strong>").parentsUntil("nav","li").addClass("active")})},0)};return a(),s.on("click","a",function(i){location.href.indexOf(t(this).attr("href"))>-1?i.preventDefault():a()}),s.filter("._hor._sub").on("mouseenter",">ul>li",function(){t(this).addClass("active").siblings("li").removeClass("active")}).on("mouseleave",a).on("focus",">ul>li>a",function(){t(this).parent("li").trigger("mouseenter")}).on("focusout",function(){var i=t(this);setTimeout(function(){0===i.find(":focus").length&&a()},0)}),s.filter("._ver._sub").on("click",">ul>li>a",function(i){var n=t(this),e=n.next("ul"),s=n.parent("li");e.is(":hidden")&&(i.preventDefault(),setTimeout(function(){e.slideDown(200,function(){s.addClass("active")}),s.siblings("li").find(">ul").slideUp(200,function(){t(this).parent("li").removeClass("active")})},0))}),this}}(jQuery);
